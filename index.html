<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Boudhina Shop</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap" rel="stylesheet">

<style>
:root{
--primary:#FFD700;
--whatsapp:#25D366;
--bg:#0b0b0b;
--card:#161616;
--text:#fff;
--text-muted:#aaa;
--nav-bg:rgba(10,10,10,0.98);
--input-bg:#1f1f1f;
}

.light-mode{
--bg:#f5f6f7;
--card:#fff;
--text:#1a1a1a;
--text-muted:#666;
--nav-bg:rgba(255,255,255,0.98);
--input-bg:#f0f0f0;
}

body{
margin:0;
font-family:'Cairo',sans-serif;
background:var(--bg);
color:var(--text);
transition:.3s;
padding-bottom:90px;
}

header{
display:flex;
justify-content:center;
align-items:center;
padding:15px;
background:var(--nav-bg);
position:sticky;
top:0;
z-index:1000;
border-bottom:1px solid rgba(255,255,255,.05);
}

.brand{
font-weight:800;
font-size:22px;
color:var(--primary);
}

.section{
display:none;
padding:15px;
max-width:600px;
margin:auto;
}

.active{display:block;}

.search-box input,
input,textarea,select{
width:100%;
padding:14px;
border:none;
border-radius:15px;
background:var(--input-bg);
color:var(--text);
margin:8px 0;
box-sizing:border-box;
font-family:'Cairo';
}

.card{
background:var(--card);
border-radius:20px;
overflow:hidden;
margin-bottom:20px;
box-shadow:0 5px 15px rgba(0,0,0,.2);
}

.card-img{
width:100%;
height:200px;
object-fit:cover;
}

.card-content{
padding:15px;
}

.price{
color:var(--primary);
font-weight:800;
}

.btn{
background:var(--primary);
border:none;
padding:12px;
border-radius:12px;
width:100%;
font-weight:800;
cursor:pointer;
}

.btn-wa{
background:var(--whatsapp);
color:#fff;
margin-top:10px;
}

.nav{
position:fixed;
bottom:0;
width:100%;
height:70px;
background:var(--nav-bg);
display:flex;
justify-content:space-around;
align-items:center;
border-top:1px solid rgba(255,255,255,.05);
}

.nav button{
background:none;
border:none;
color:#666;
font-size:22px;
}

.nav button.active{
color:var(--primary);
}

#auth{
position:fixed;
inset:0;
background:#000;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
padding:30px;
z-index:2000;
}
</style>
</head>

<body>

<div id="auth">
<h1 id="brand-auth">Boudhina Shop</h1>
<p id="auth-sub"></p>
<input type="text" id="reg-name">
<input type="email" id="reg-email">
<button class="btn" onclick="register()" id="start-btn"></button>
</div>

<header>
<div class="brand" id="brand-name">Boudhina Shop</div>
</header>

<div id="home" class="section active">
<input type="text" id="searchInput" onkeyup="searchPosts()">
<div id="postsList"></div>
</div>

<div id="sell" class="section">
<input type="file" id="fileInput" accept="image/*" onchange="handleImage(event)">
<input type="text" id="game">
<input type="number" id="price">
<input type="tel" id="phone">
<textarea id="desc"></textarea>
<button class="btn" onclick="savePost()" id="publish-btn"></button>
</div>

<div id="profile" class="section">
<h2 id="profile-name"></h2>
<p id="profile-email"></p>
<div id="myPosts"></div>
</div>

<div id="settings" class="section">
<label>
<input type="checkbox" id="themeToggle" onchange="toggleTheme()"> 
<span id="dark-label"></span>
</label>

<select onchange="changeLang(this.value)" id="langSelect">
<option value="ar">العربية</option>
<option value="en">English</option>
<option value="fr">Français</option>
</select>

<button onclick="logout()" id="logout-btn"></button>
</div>

<nav class="nav">
<button onclick="showPage('home',this)" class="active"><i class="fa fa-house"></i></button>
<button onclick="showPage('sell',this)"><i class="fa fa-plus"></i></button>
<button onclick="showPage('profile',this)"><i class="fa fa-user"></i></button>
<button onclick="showPage('settings',this)"><i class="fa fa-gear"></i></button>
</nav>

<script>
let currentImg="";

const translations={
ar:{
brand:"Boudhina Shop",
authSub:"سوق الحسابات الأول في تونس",
start:"ابدأ الآن",
search:"ابحث...",
game:"اسم اللعبة",
price:"السعر بـ DT",
phone:"رقم واتساب",
desc:"وصف الحساب",
publish:"نشر",
dark:"الوضع الليلي",
logout:"تسجيل الخروج",
wa:"تواصل عبر واتساب"
},
en:{
brand:"Boudhina Shop",
authSub:"Tunisia's #1 Gaming Market",
start:"Start Now",
search:"Search...",
game:"Game Name",
price:"Price in DT",
phone:"WhatsApp Number",
desc:"Description",
publish:"Publish",
dark:"Dark Mode",
logout:"Logout",
wa:"Contact via WhatsApp"
},
fr:{
brand:"Boudhina Shop",
authSub:"Marché Gaming #1 en Tunisie",
start:"Démarrer",
search:"Rechercher...",
game:"Nom du jeu",
price:"Prix en DT",
phone:"Numéro WhatsApp",
desc:"Description",
publish:"Publier",
dark:"Mode Sombre",
logout:"Déconnexion",
wa:"Contacter via WhatsApp"
}
};

function changeLang(lang){
localStorage.setItem("lang",lang);
const t=translations[lang];

document.title=t.brand;
document.getElementById("brand-name").innerText=t.brand;
document.getElementById("brand-auth").innerText=t.brand;
document.getElementById("auth-sub").innerText=t.authSub;
document.getElementById("start-btn").innerText=t.start;
document.getElementById("searchInput").placeholder=t.search;
document.getElementById("game").placeholder=t.game;
document.getElementById("price").placeholder=t.price;
document.getElementById("phone").placeholder=t.phone;
document.getElementById("desc").placeholder=t.desc;
document.getElementById("publish-btn").innerText=t.publish;
document.getElementById("dark-label").innerText=t.dark;
document.getElementById("logout-btn").innerText=t.logout;

document.documentElement.dir=lang==="ar"?"rtl":"ltr";
}

function register(){
const name=document.getElementById("reg-name").value;
const email=document.getElementById("reg-email").value;
if(!name||!email)return alert("!");
localStorage.setItem("user",JSON.stringify({name,email}));
location.reload();
}

function loadUser(){
const user=JSON.parse(localStorage.getItem("user"));
if(user){
document.getElementById("auth").style.display="none";
document.getElementById("profile-name").innerText=user.name;
document.getElementById("profile-email").innerText=user.email;
}
}

function handleImage(e){
const reader=new FileReader();
reader.onload=()=>currentImg=reader.result;
reader.readAsDataURL(e.target.files[0]);
}

function savePost(){
const game=document.getElementById("game").value;
const price=document.getElementById("price").value;
const phone=document.getElementById("phone").value;
const desc=document.getElementById("desc").value;
if(!game||!price||!phone||!currentImg)return alert("!");
let posts=JSON.parse(localStorage.getItem("posts")||"[]");
posts.unshift({id:Date.now(),game,price,phone,desc,img:currentImg});
localStorage.setItem("posts",JSON.stringify(posts));
location.reload();
}

function renderPosts(){
const t=translations[localStorage.getItem("lang")||"ar"];
const posts=JSON.parse(localStorage.getItem("posts")||"[]");
const list=document.getElementById("postsList");
list.innerHTML="";
posts.forEach(p=>{
list.innerHTML+=`
<div class="card">
<img src="${p.img}" class="card-img">
<div class="card-content">
<b>${p.game}</b>
<div class="price">${p.price} DT</div>
<p>${p.desc}</p>
<button class="btn btn-wa" onclick="window.open('https://wa.me/${p.phone}')">${t.wa}</button>
</div>
</div>`;
});
}

function showPage(id,btn){
document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
document.querySelectorAll(".nav button").forEach(b=>b.classList.remove("active"));
btn.classList.add("active");
}

function toggleTheme(){
document.body.classList.toggle("light-mode");
localStorage.setItem("theme",document.body.classList.contains("light-mode"));
}

function logout(){
localStorage.clear();
location.reload();
}

function searchPosts(){
const q=document.getElementById("searchInput").value.toLowerCase();
document.querySelectorAll(".card").forEach(c=>{
c.style.display=c.innerText.toLowerCase().includes(q)?"":"none";
});
}

window.onload=()=>{
loadUser();
const savedLang=localStorage.getItem("lang")||"ar";
document.getElementById("langSelect").value=savedLang;
changeLang(savedLang);
if(localStorage.getItem("theme")==="true")document.body.classList.add("light-mode");
renderPosts();
};
</script>

</body>
    </html>
